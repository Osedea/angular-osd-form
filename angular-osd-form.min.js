!function(){function r(r,t){var e=this,o=null;e.attempted=!1,e.validators=[],t.$on("osdReset",function(){e.setAttempted(!1)}),t.$on("osdValidate",function(){e.validateForm()}),e.onInvalid=function(){r.$broadcast("osdInvalid",o)},e.addFieldValidator=function(r,t){o[r]&&(o[r].$error.validator=!1,e.validators.push({attr:r,fn:t}))},e.validateFields=function(){var r=!0;return e.validators.forEach(function(t){t.fn({key:t.attr})||(o[t.attr].$error.validator=!0,r=!1)}),r},e.fieldShowsError=function(r,t){if(!e.attempted)return!1;if(t&&!o[r].$error[t])return!1;var i=e.validators.some(function(t){if(t.attr!==r)return!1;var e=t.fn({key:r});return o[t.attr].$error.validator=!e,!e});return i||o[r].$invalid},e.validateForm=function(){var r=e.validateFields()&&o.$valid;return o.osdValid=r,r},e.setAttempted=function(r){e.attempted=r},e.setNgFormCtrl=function(r){o=r},e.getNgFormCtrl=function(){return o}}function t(){return{restrict:"A",require:["osdSubmit","?form"],scope:{osdSubmit:"&"},controller:"OsdSubmitCtrl",compile:function(){return{pre:function(r,t,e,o){var i=o[0],n=o[1];i.setNgFormCtrl(n),r.osd=r.osd||{},r.osd[e.name]=i},post:function(r,t,e,o){var i=o[0];t.bind("submit",function(){return i.setAttempted(!0),i.validateForm()?(r.osdSubmit(),r.$$phase||r.$apply(),void 0):(i.onInvalid(),r.$$phase||r.$apply(),!1)})}}}}}function e(){return{restrict:"E",replace:!0,transclude:!0,scope:{attr:"@"},template:'<div class="form-group" ng-class="{ \'has-error\': showError() }"><div ng-transclude></div></div>',require:"^osdSubmit",controller:["$scope",function(r){var t=this;t.getAttr=function(){return r.attr}}],link:function(r,t,e,o){r.showError=function(){return o.fieldShowsError(r.attr,r.type)}}}}function o(r){return{restrict:"E",replace:!0,scope:{attr:"@",attrs:"=",errorType:"@",msg:"@",validator:"&"},template:'<span class="help-block" ng-show="showError()">{{ msg }}</span>',require:["^osdField","^osdSubmit","^?form"],link:function(t,e,o,i){var n=i[0],a=i[1],d=i[2],u=t.attr||n.getAttr(),s=t.errorType||"required";if(o.validator){var l=o.validator.replace("()","");r.isBuiltInValidator(l)&&(t.validator=r[l](d,t.attrs)),a.addFieldValidator(u,t.validator),s="validator"}t.showError=function(){return a.fieldShowsError(u,s)}}}}function i(){var r=this;return r.isBuiltInValidator=function(t){return r.hasOwnProperty(t)},r.strictMatchValidator=function(r,t){return function(){return t.every(function(e){return r[e].$viewValue===r[t[0]].$viewValue})}},r.strictIncreaseValidator=function(r,t){return function(){for(var e=1;e<t.length;e++)if(r[t[e]].$viewValue<=r[t[e-1]].$viewValue)return!1;return!0}},r}r.$inject=["$rootScope","$scope"],o.$inject=["osdValidators"],angular.module("osdForm",[]).controller("OsdSubmitCtrl",r).service("osdValidators",i).directive("osdError",o).directive("osdField",e).directive("osdSubmit",t)}();