!function(){function r(){var r=this,t={useBootstrap:!0,useSemanticUi:!1};return r.useBootstrap=function(){t.useBootstrap=!0,t.useSemanticUi=!t.useBootstrap},r.useSemanticUi=function(){t.useSemanticUi=!0,t.useBootstrap=!t.useSemanticUi},r.$get=function(){return t},r}function t(r,t){var e=this,o=null;e.attempted=!1,e.validators=[],t.$on("osdReset",function(){e.setAttempted(!1)}),t.$on("osdValidate",function(){e.validateForm()}),e.onInvalid=function(){r.$broadcast("osdInvalid",o)},e.addFieldValidator=function(r,t){o[r]||(o[r]={$error:{}}),o[r].$error.validator=!1,e.validators.push({attr:r,fn:t})},e.validateFields=function(){var r=!0;return e.validators.forEach(function(t){t.fn({key:t.attr})||(o[t.attr].$error.validator=!0,r=!1)}),r},e.fieldShowsError=function(r,t){return e.attempted?"validator"!==t?t in o[r].$error&&o[r].$error[t]:e.validators.some(function(t){if(t.attr!==r)return!1;var e=t.fn({key:r});return o[t.attr].$error.validator=!e,!e}):!1},e.validateForm=function(){var r=e.validateFields()&&o.$valid;return o.osdValid=r,r},e.setAttempted=function(r){e.attempted=r},e.setNgFormCtrl=function(r){o=r},e.getNgFormCtrl=function(){return o}}function e(){return{restrict:"A",require:["osdSubmit","?form"],scope:{osdSubmit:"&"},controller:"OsdSubmitCtrl",compile:function(){return{pre:function(r,t,e,o){var i=o[0],n=o[1];i.setNgFormCtrl(n),r.osd=r.osd||{},r.osd[e.name]=i},post:function(r,t,e,o){var i=o[0];t.bind("submit",function(){return i.setAttempted(!0),i.validateForm()?(r.osdSubmit(),void(r.$$phase||r.$apply())):(i.onInvalid(),r.$$phase||r.$apply(),!1)})}}}}}function o(r){var t=this;r.submitCtrl=null,t.errorTypes=[],t.getAttr=function(){return r.attr},t.addErrorType=function(r){t.errorTypes.push(r)},r.showError=function(){return t.errorTypes.some(function(t){return r.submitCtrl.fieldShowsError(r.attr,t)})}}function i(r){return{restrict:"EA",replace:!0,transclude:!0,scope:{attr:"@"},template:r.isBootstrap?'<div class="form-group" ng-class="{ \'has-error\': showError() }"><div ng-transclude></div></div>':'<div class="field" ng-class="{ \'error\': showError() }"><div ng-transclude></div></div>',require:"^osdSubmit",controller:"OsdFieldCtrl",link:function(r,t,e,o){r.submitCtrl=o}}}function n(r,t){return{restrict:"EA",replace:!0,scope:{attrs:"=",errorType:"@",msg:"@",validator:"&"},template:r.isBootstrap?'<span class="help-block" ng-if="showError()">{{ $parent.msg }}</span>':'<span class="ui red pointing prompt label transition visible" ng-if="showError()">{{ $parent.msg }}</span>',require:["^osdField","^osdSubmit","^?form"],link:function(r,e,o,i){var n,a=i[0],s=i[1],u=i[2],d=r.attr||a.getAttr(),l=r.errorType||"required";return r.showError=function(){return"validator"==l?s.attempted&&!r.validator({key:d}):s.fieldShowsError(d,l)},o.validator?(l="validator",a.addErrorType(l),n=o.validator.replace("()",""),t.isBuiltInValidator(n)&&(r.validator=t[n](u,d,r.attrs)),void s.addFieldValidator(d,r.validator)):a.addErrorType(l)}}}function a(){var r=this;return r.isBuiltInValidator=function(t){return r.hasOwnProperty(t)},r.strictMatchValidator=function(r,t,e){return function(){return e.every(function(t){return r[t].$viewValue===r[e[0]].$viewValue})}},r.strictIncreaseValidator=function(r,t,e){return function(){for(var t=1;t<e.length;t++)if(r[e[t]].$viewValue<=r[e[t-1]].$viewValue)return!1;return!0}},r.pastDateValidator=function(r,t){return function(){var e=(new Date).getTime(),o=new Date(r[t].$viewValue).getTime();return e>o}},r.futureDateValidator=function(r,t){return function(){var e=(new Date).getTime(),o=new Date(r[t].$viewValue).getTime();return o>e}},r}t.$inject=["$rootScope","$scope"],o.$inject=["$scope"],i.$inject=["OsdFormConfig"],n.$inject=["OsdFormConfig","osdValidators"],angular.module("osdForm",[]).provider("OsdFormConfig",r).controller("OsdSubmitCtrl",t).controller("OsdFieldCtrl",o).service("osdValidators",a).directive("osdError",n).directive("osdField",i).directive("osdSubmit",e)}();