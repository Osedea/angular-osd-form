!function(){angular.module("osdForm",[])}(),function(){function r(){var r=this;return r.config={useBootstrap:!0,useSemanticUi:!1},r.useBootstrap=function(){config.useBootstrap=!0,config.useSemanticUi=!config.useBootstrap},r.useSemanticUi=function(){config.useSemanticUi=!0,config.useBootstrap=!config.useSemanticUi},r.$get=function(){return r},r}angular.module("osdForm").provider("OsdFormConfig",r)}(),function(){function r(r,t){var o=this,e=null;o.attempted=!1,o.validators=[],t.$on("osdReset",function(){o.setAttempted(!1)}),t.$on("osdValidate",function(){o.validateForm()}),o.onInvalid=function(){r.$broadcast("osdInvalid",e)},o.addFieldValidator=function(r,t){e[r]||(e[r]={$error:{}}),e[r].$error.validator=!1,o.validators.push({attr:r,fn:t})},o.validateFields=function(){var r=!0;return o.validators.forEach(function(t){t.fn({key:t.attr})||(e[t.attr].$error.validator=!0,r=!1)}),r},o.fieldShowsError=function(r,t){return o.attempted?"validator"!==t?t in e[r].$error&&e[r].$error[t]:o.validators.some(function(t){if(t.attr!==r)return!1;var o=t.fn({key:r});return e[t.attr].$error.validator=!o,!o}):!1},o.validateForm=function(){var r=o.validateFields()&&e.$valid;return e.osdValid=r,r},o.setAttempted=function(r){o.attempted=r},o.setNgFormCtrl=function(r){e=r},o.getNgFormCtrl=function(){return e}}r.$inject=["$rootScope","$scope"],angular.module("osdForm").controller("OsdSubmitCtrl",r)}(),function(){function r(r){var t=this;r.submitCtrl=null,t.errorTypes=[],t.getAttr=function(){return r.attr},t.addErrorType=function(r){t.errorTypes.push(r)},r.showError=function(){return t.errorTypes.some(function(t){return r.submitCtrl.fieldShowsError(r.attr,t)})}}r.$inject=["$scope"],angular.module("osdForm").controller("OsdFieldCtrl",r)}(),function(){function r(){var r=this;return r.isBuiltInValidator=function(t){return r.hasOwnProperty(t)},r.strictMatchValidator=function(r,t,o){return function(){return o.every(function(t){return r[t].$viewValue===r[o[0]].$viewValue})}},r.strictIncreaseValidator=function(r,t,o){return function(){for(var t=1;t<o.length;t++)if(r[o[t]].$viewValue<=r[o[t-1]].$viewValue)return!1;return!0}},r.pastDateValidator=function(r,t){return function(){var o=(new Date).getTime(),e=new Date(r[t].$viewValue).getTime();return o>e}},r.futureDateValidator=function(r,t){return function(){var o=(new Date).getTime(),e=new Date(r[t].$viewValue).getTime();return e>o}},r}angular.module("osdForm").service("osdValidators",r)}(),function(){function r(r,t){return{restrict:"EA",replace:!0,scope:{attrs:"=",errorType:"@",msg:"@",validator:"&"},template:r.config.useBootstrap?'<span class="help-block" ng-if="showError()">{{ $parent.msg }}</span>':'<span class="ui red pointing prompt label transition visible" ng-if="showError()">{{ $parent.msg }}</span>',require:["^osdField","^osdSubmit","^?form"],link:function(r,o,e,n){var i,a=n[0],u=n[1],s=n[2],d=r.attr||a.getAttr(),l=r.errorType||"required";return r.showError=function(){return"validator"==l?u.attempted&&!r.validator({key:d}):u.fieldShowsError(d,l)},e.validator?(l="validator",a.addErrorType(l),i=e.validator.replace("()",""),t.isBuiltInValidator(i)&&(r.validator=t[i](s,d,r.attrs)),u.addFieldValidator(d,r.validator),void 0):a.addErrorType(l)}}}r.$inject=["OsdFormConfig","osdValidators"],angular.module("osdForm").directive("osdError",r)}(),function(){function r(r){return{restrict:"EA",replace:!0,transclude:!0,scope:{attr:"@"},template:r.config.useBootstrap?'<div class="form-group" ng-class="{ \'has-error\': showError() }"><div ng-transclude></div></div>':'<div class="field" ng-class="{ \'error\': showError() }"><div ng-transclude></div></div>',require:"^osdSubmit",controller:"OsdFieldCtrl",link:function(r,t,o,e){r.submitCtrl=e}}}r.$inject=["OsdFormConfig"],angular.module("osdForm").directive("osdField",r)}(),function(){function r(){return{restrict:"A",require:["osdSubmit","?form"],scope:{osdSubmit:"&"},controller:"OsdSubmitCtrl",compile:function(){return{pre:function(r,t,o,e){var n=e[0],i=e[1];n.setNgFormCtrl(i),r.osd=r.osd||{},r.osd[o.name]=n},post:function(r,t,o,e){var n=e[0];t.bind("submit",function(){return n.setAttempted(!0),n.validateForm()?(r.osdSubmit(),r.$$phase||r.$apply(),void 0):(n.onInvalid(),r.$$phase||r.$apply(),!1)})}}}}}angular.module("osdForm").directive("osdSubmit",r)}();